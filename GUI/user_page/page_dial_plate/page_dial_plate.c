//
// Created by QT on 2023/1/29.
//

#include "page_dial_plate.h"
#include "bsp.h"


extern page_manager_t g_page_manager;    /* 界面管理器, 在freertos.c文件中定义 */
extern page_t page_about;


page_t page_dial;   /* "表盘"界面 */

char time_buf[8];    /* 模拟时间 */


const unsigned char gImage_cxk[512] = { /* 0X22,0X01,0X40,0X00,0X40,0X00, */
		0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
		0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
		0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
		0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
		0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
		0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0XC0,0XE0,0XE0,0XE0,0XE0,
		0XE0,0XC0,0X80,0X80,0X80,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
		0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
		0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
		0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X1F,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0X3F,
		0X7F,0XFF,0XFF,0XFF,0XFF,0X7F,0X0C,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
		0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
		0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
		0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XE1,0XE1,0XC3,0X81,0XA0,
		0XA1,0XC3,0XE1,0XF9,0XFF,0XF8,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
		0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
		0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
		0X00,0X00,0XF0,0X80,0X00,0X00,0X00,0X00,0X02,0X02,0X00,0X1F,0XFF,0XFF,0XFF,0XFF,
		0XFF,0XFF,0XFF,0XFF,0X1F,0X00,0X00,0X08,0X08,0X10,0XE0,0X00,0X00,0X00,0X80,0XE0,
		0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
		0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
		0X70,0XC0,0X00,0X0F,0X00,0X00,0X80,0X38,0X00,0X00,0X00,0X00,0X03,0XFF,0XFF,0XF3,
		0XFF,0XFF,0X3F,0X01,0X00,0X00,0X00,0X00,0X18,0X00,0X3F,0X00,0X00,0XFE,0XFF,0XDF,
		0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
		0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
		0XC0,0X71,0X7F,0XFF,0X03,0XE1,0X07,0X03,0XFF,0X7F,0X70,0X00,0X00,0X07,0XFF,0XFF,
		0XFF,0X07,0X80,0XE0,0XF8,0X1C,0X03,0X00,0X00,0X00,0X00,0X00,0XE0,0XFF,0XFF,0XFF,
		0XFF,0XF0,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
		0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
		0X00,0X00,0X04,0X00,0X18,0X03,0X00,0X00,0X01,0X01,0X00,0X00,0X00,0XF0,0XFF,0XFF,
		0XFC,0X66,0X23,0X01,0X00,0X00,0X00,0X00,0X00,0X00,0X0E,0X60,0X6F,0X7F,0XFB,0XF9,
		0XFD,0XDC,0XCC,0XCF,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
};




static void page_dial_setup();
static void page_dial_exit();
static void page_dial_event_handle(void* obj, int event);


/**
 * @brief 界面初始化
 */
void page_dial_setup()
{

}

/**
 * @brief 界面退出
 */
void page_dial_exit()
{
}

/**
 * @brief 界面事件处理
 * @param[in]	obj
 * @param[in]	event
 */
void page_dial_event_handle(void *obj, int event)
{
	if (event == ButtonEvent_SingleClick)
	{
//		page_pop(&page_manager);
		page_push(&g_page_manager, &page_about);
	}
}

/**
 * @brief 注册界面到界面管理器
 * @return
 */
int page_dial_register()
{
	/* 创建新界面 */
	page_create(&page_dial, page_dial_setup, NULL, page_dial_exit, page_dial_event_handle);

	page_register(&g_page_manager, &page_dial);

	return 0;
}
